{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nlet AboutComponent = class AboutComponent {\n  constructor(auth, toast, router) {\n    this.auth = auth;\n    this.toast = toast;\n    this.router = router;\n    // could be easily obtained from web api\n    this.description = \"tyty\";\n  }\n  ngOnInit() {\n    this.form = new FormGroup({\n      description: new FormControl(this.description)\n    });\n    this.form.get('description')?.valueChanges.subscribe(res => {\n      this.description = res;\n    });\n  }\n  onSubmit() {\n    this.description = this.form.value;\n  }\n  isAdmin() {\n    return this.auth.isAdmin();\n  }\n  isAuthorized() {\n    return this.auth.isLoggedIn();\n  }\n  logOut() {\n    this.auth.signOut();\n  }\n  isVisible(urlObj) {\n    if (this.isAuthorized()) {\n      if (this.isAdminOrOwner(urlObj)) {\n        return true;\n      }\n    }\n    return false;\n  }\n  isAdminOrOwner(urlObj) {\n    var role = this.auth.getUserRoleFromToken();\n    var id = this.auth.getUserIdFromToken();\n    if (role === \"admin\") {\n      return true;\n    }\n    if (id === urlObj.userId) {\n      return true;\n    }\n    return false;\n  }\n  toAbout() {\n    this.router.navigate(['about']);\n    ;\n  }\n};\nAboutComponent = __decorate([Component({\n  selector: 'app-about',\n  templateUrl: './about.component.html',\n  styleUrls: ['./about.component.css']\n})], AboutComponent);\nexport { AboutComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAIjD,SAASC,WAAW,EAAEC,SAAS,QAAQ,gBAAgB;AAQhD,IAAMC,cAAc,GAApB,MAAMA,cAAc;EAKzBC,YAAoBC,IAAiB,EAAUC,KAAoB,EAAUC,MAAc;IAAvE,SAAI,GAAJF,IAAI;IAAuB,UAAK,GAALC,KAAK;IAAyB,WAAM,GAANC,MAAM;IAHnF;IACA,gBAAW,GAAW,MAAM;EAEiE;EAE7FC,QAAQ;IACN,IAAI,CAACC,IAAI,GAAG,IAAIP,SAAS,CAAC;MACxBQ,WAAW,EAAE,IAAIT,WAAW,CAAC,IAAI,CAACS,WAAW;KAC9C,CAAC;IAEF,IAAI,CAACD,IAAI,CAACE,GAAG,CAAC,aAAa,CAAC,EAAEC,YAAY,CAACC,SAAS,CAAEC,GAAG,IAAI;MAC3D,IAAI,CAACJ,WAAW,GAAGI,GAAG;IACxB,CAAC,CAAC;EACJ;EAEAC,QAAQ;IACN,IAAI,CAACL,WAAW,GAAG,IAAI,CAACD,IAAI,CAACO,KAAK;EACpC;EAEAC,OAAO;IACL,OAAO,IAAI,CAACZ,IAAI,CAACY,OAAO,EAAE;EAC5B;EAEAC,YAAY;IACV,OAAO,IAAI,CAACb,IAAI,CAACc,UAAU,EAAE;EAC/B;EAEAC,MAAM;IACJ,IAAI,CAACf,IAAI,CAACgB,OAAO,EAAE;EACrB;EAEAC,SAAS,CAACC,MAAW;IACnB,IAAI,IAAI,CAACL,YAAY,EAAE,EAAE;MACvB,IAAI,IAAI,CAACM,cAAc,CAACD,MAAM,CAAC,EAAE;QAC/B,OAAO,IAAI;;;IAIf,OAAO,KAAK;EACd;EAEAC,cAAc,CAACD,MAAW;IACxB,IAAIE,IAAI,GAAG,IAAI,CAACpB,IAAI,CAACqB,oBAAoB,EAAE;IAC3C,IAAIC,EAAE,GAAG,IAAI,CAACtB,IAAI,CAACuB,kBAAkB,EAAE;IAEvC,IAAIH,IAAI,KAAK,OAAO,EAAE;MACpB,OAAO,IAAI;;IAGb,IAAIE,EAAE,KAAKJ,MAAM,CAACM,MAAM,EAAE;MACxB,OAAO,IAAI;;IAGb,OAAO,KAAK;EACd;EAEAC,OAAO;IACL,IAAI,CAACvB,MAAM,CAACwB,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC;IAAC;EAClC;CACD;AA7DY5B,cAAc,eAL1BH,SAAS,CAAC;EACTgC,QAAQ,EAAE,WAAW;EACrBC,WAAW,EAAE,wBAAwB;EACrCC,SAAS,EAAE,CAAC,uBAAuB;CACpC,CAAC,GACW/B,cAAc,CA6D1B;SA7DYA,cAAc","names":["Component","FormControl","FormGroup","AboutComponent","constructor","auth","toast","router","ngOnInit","form","description","get","valueChanges","subscribe","res","onSubmit","value","isAdmin","isAuthorized","isLoggedIn","logOut","signOut","isVisible","urlObj","isAdminOrOwner","role","getUserRoleFromToken","id","getUserIdFromToken","userId","toAbout","navigate","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["F:\\UrlShortnerApi\\UI\\UrlShortnerUI\\src\\app\\components\\about\\about.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ToastrService } from 'ngx-toastr';\nimport { AuthService } from 'src/app/services/auth.service';\nimport { NgModule } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { Route } from '@angular/router';\n\n@Component({\n  selector: 'app-about',\n  templateUrl: './about.component.html',\n  styleUrls: ['./about.component.css']\n})\nexport class AboutComponent implements OnInit {\n\n  // could be easily obtained from web api\n  description: string = \"tyty\";\n  form!: FormGroup;\n  constructor(private auth: AuthService, private toast: ToastrService, private router: Router){}\n\n  ngOnInit(): void {\n    this.form = new FormGroup({\n      description: new FormControl(this.description)\n    });\n\n    this.form.get('description')?.valueChanges.subscribe((res) =>{\n      this.description = res;\n    });\n  }\n\n  onSubmit(){\n    this.description = this.form.value;\n  }\n\n  isAdmin(): boolean{\n    return this.auth.isAdmin();\n  }\n\n  isAuthorized(): boolean {\n    return this.auth.isLoggedIn();\n  }\n\n  logOut() {\n    this.auth.signOut();\n  }\n\n  isVisible(urlObj: any) {\n    if (this.isAuthorized()) {\n      if (this.isAdminOrOwner(urlObj)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  isAdminOrOwner(urlObj: any) {\n    var role = this.auth.getUserRoleFromToken();\n    var id = this.auth.getUserIdFromToken();\n\n    if (role === \"admin\") {\n      return true;\n    }\n\n    if (id === urlObj.userId) {\n      return true;\n    }\n\n    return false;\n  }\n\n  toAbout(){\n    this.router.navigate(['about']);;\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}